{% extends 'baseAuthenticated.html.twig' %}

{% form_theme form with _self %}

{% block title %}Edit Company{% endblock %}
{% block bodyClass %}page-company-edit{% endblock %}

 {% block stylesheets %}
     {{ parent() }}
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css" integrity="sha256-e47xOkXs1JXFbjjpoRr1/LhVcqSzRmGmPqsrUQeVs+g=" crossorigin="anonymous" />
 {% endblock %}

{% block body %}

    <div class="uk-container js-form" data-route="{{ path('company_edit', {'id' : company.id}) }}">

        <div class="uk-margin">
            <div class="uk-align-right@l">
                <a href="{{ path('company_view', {id: company.id}) }}" class="uk-button uk-button-default uk-button-small">Back to Company</a>
            </div>
        </div>

        {{ form_start(form, {attr: {'novalidate' : 'novalidate'}}) }}

        <ul id="test" class="uk-tab" uk-switcher="connect: #tab-edit-company" uk-tab>
            <li class="uk-active"><a href="#company-details">Edit Company</a></li>
            <li><a href="#company-industries">Industry</a></li>
            <li><a href="#company-schools">Schools</a></li>
            <li><a href="#company-photos">Photos</a></li>
            <li><a href="#company-videos">Videos</a></li>
            <li><a href="#company-resources" style="background-color: #e8e8e8">Resources</a></li>
        </ul>

        {% if form_errors(form) %}
            <div class="uk-alert-danger" uk-alert>
                <a class="uk-alert-close" uk-close></a>
                <div>{{ form_errors(form) }}</div>
            </div>
        {% endif %}

        <div class="uk-switcher" id="tab-edit-company">
            <div class="page-company-edit__details">
                <div class="uk-width-xlarge">
                    <fieldset class="uk-fieldset">
                        <div class="uk-margin">
                            {{ form_label(form.name, 'Name*') }}
                            {{ form_widget(form.name, {'attr': {'class': 'uk-input' ~ ( form_errors(form.name) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.name) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.street, 'Street*') }}
                            {{ form_widget(form.street, {'attr': {'class': 'uk-input' ~ ( form_errors(form.street) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.street) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.city, 'City*') }}
                            {{ form_widget(form.city, {'attr': {'class': 'uk-input' ~ ( form_errors(form.city) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.city) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.state, 'State*') }}
                            {{ form_widget(form.state, {'attr': {'class': 'uk-input' ~ ( form_errors(form.state) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.state) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.zipcode, 'Zip*') }}
                            {{ form_widget(form.zipcode, {'attr': {'class': 'uk-input' ~ ( form_errors(form.zipcode) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.zipcode) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.website, 'Website*') }}
                            {{ form_widget(form.website, {'attr': {'class': 'uk-input' ~ ( form_errors(form.website) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.website) }}
                        </div>
                        <div class="uk-margin">
                            <div class="uk-column-1-2">
                                <div>
                                    {{ form_label(form.phone, 'Phone') }}
                                    {{ form_widget(form.phone, {'attr': {'class': 'uk-input' ~ ( form_errors(form.phone) ? ' uk-form-danger' : '' ) }}) }}
                                    {{ form_errors(form.phone) }}
                                </div>
                                <div>
                                    {{ form_label(form.phoneExt, 'Ext.') }}
                                    {{ form_widget(form.phoneExt, {'attr': {'class': 'uk-input' ~ ( form_errors(form.phoneExt) ? ' uk-form-danger' : '' ) }}) }}
                                    {{ form_errors(form.phoneExt) }}
                                </div>
                            </div>
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.emailAddress, 'Company Administrator Email*') }}
                            {{ form_widget(form.emailAddress, {'attr': {'class': 'uk-input' ~ ( form_errors(form.emailAddress) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.emailAddress) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.shortDescription, 'Short Description*') }}
                            <div class="uk-text-meta">This is the excerpt shown in search results throughout the site (Please limit to 240 characters)</div>
                            {{ form_widget(form.shortDescription, {'attr': {'class': 'uk-textarea' ~ ( form_errors(form.shortDescription) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.shortDescription) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.description, 'Description*') }}
                            <div data-wysiwyg="[name='edit_company_form[description]']" class="{{ ( form_errors(form.description) ? 'wysiwyg-error' : '' ) }}"></div>
                            <div style="display: none;">
                                {{ form_widget(form.description) }}
                            </div>
                            {{ form_errors(form.description) }}
                        </div>
                        <div class="uk-margin uk-grid" uk-grid>
                            {% if company.thumbnailImage %}
                                <div class="uk-width-small">
                                    <img id="companyThumbnailImage" src="{{ asset(uploaded_asset(company.thumbnailImagePath))|imagine_filter('squared_thumbnail_small') }}" />
                                </div>
                            {% endif %}
                            <div class="uk-width-expand">
                                <label>Company Thumbnail (300x300)</label>
                                <div class="uk-text-meta">Upload a <strong>square image</strong> if possible.  Will auto resize to 300x300.<br /><span class="uk-text-warning">Accepted formats: .jpg, .png</span></div>
                                <div data-upload-url="{{ path('company_thumbnail_add', { id: company.id }) }}" data-type="image:companyThumbnailImage"></div>
                            </div>
                        </div>
                        <div class="uk-margin uk-grid" uk-grid>
                            {% if company.featuredImage %}
                                <div class="uk-width-small">
                                    <img id="companyFeaturedImage" src="{{ asset(uploaded_asset(company.featuredImagePath))|imagine_filter('squared_thumbnail_small') }}" />
                                </div>
                            {% endif %}
                            <div class="uk-width-expand">
                                <label>Company Featured Image (1680x300)</label>
                                <div class="uk-text-meta">Ideal size for company banner is <strong>1680x300</strong> with central focal point.<br /><span class="uk-text-warning">Accepted formats: .jpg, .png</span></div>
                                <div data-upload-url="{{ path('company_featured_add', { id: company.id }) }}" data-type="image:companyFeaturedImage"></div>
                            </div>
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.companyLinkedinPage, 'Company LinkedIn Page') }}
                            {{ form_widget(form.companyLinkedinPage, {'attr': {'class': 'uk-input' ~ ( form_errors(form.companyLinkedinPage) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.companyLinkedinPage) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.companyFacebookPage, 'Company Facebook Page') }}
                            {{ form_widget(form.companyFacebookPage, {'attr': {'class': 'uk-input' ~ ( form_errors(form.companyFacebookPage) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.companyFacebookPage) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.companyInstagramPage, 'Company Instagram Page') }}
                            {{ form_widget(form.companyInstagramPage, {'attr': {'class': 'uk-input' ~ ( form_errors(form.companyInstagramPage) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.companyInstagramPage) }}
                        </div>
                        <div class="uk-margin">
                            {{ form_label(form.companyTwitterPage, 'Company Twitter Page') }}
                            {{ form_widget(form.companyTwitterPage, {'attr': {'class': 'uk-input' ~ ( form_errors(form.companyTwitterPage) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.companyTwitterPage) }}
                        </div>
                        <div class="uk-margin {% if form.owner.vars.choices|length <= 1 %}uk-hidden{% endif %}">
                            {{ form_label(form.owner, 'Company Page Manager Email*') }}
                            {{ form_widget(form.owner, {'attr': {'class': 'uk-input' ~ ( form_errors(form.owner) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.owner) }}
                        <p>The company employee responsible for managing and editing your company's page on this platform</p>
                        </div>

                        <div class="uk-margin">
                            <button class="uk-button uk-button-primary uk-button-small">Save</button> or <a href="#" uk-switcher-item="1" class="uk-button uk-button-secondary uk-button-small">Next</a>
                            {# <button type="button" class="uk-button uk-button-primary uk-button-small js-navigate" data-navigate-to-index="1">Next</button> #}
                        </div>

                    </fieldset>
                </div>
            </div>
            <div class="page-company-edit__industry">
                <div class="uk-width-xlarge">
                    <fieldset class="uk-fieldset">
                        <div class="uk-margin">
                            {{ form_label(form.primaryIndustry, 'My Company\'s Primary Industry*') }}
                            {{ form_widget(form.primaryIndustry, {'attr': {'class': 'js-primary-industry uk-select' ~ ( form_errors(form.primaryIndustry) ? ' uk-form-danger' : '' ) }}) }}
                            {{ form_errors(form.primaryIndustry) }}
                        </div>

                        <div class="js-secondary-industry-container">
                            {% if form.secondaryIndustries is defined %}
                                <div class="uk-margin">
                                    {{ form_label(form.secondaryIndustries, 'Secondary Industry*') }} <a class="uk-link-muted" data-select-all="edit_company_form[secondaryIndustries][]">Select All</a> - <a class="uk-link-muted" data-deselect-all="edit_company_form[secondaryIndustries][]">UnSelect All</a>
                                    {{ form_widget(form.secondaryIndustries, {'attr': {'class': 'uk-checkboxes uk-checkboxes-newlines' ~ ( form_errors(form.secondaryIndustries) ? ' uk-form-danger' : '' ) }}) }}
                                    <div class="clear"></div>
                                    {{ form_errors(form.secondaryIndustries) }}
                                </div>
                            {% endif %}
                        </div>

                        <div class="uk-margin">
                            <button class="uk-button uk-button-primary uk-button-small">Save</button> or <a href="#" uk-switcher-item="2" class="uk-button uk-button-secondary uk-button-small">Next</a>
                            {# <button type="button" class="uk-button uk-button-primary uk-button-small js-navigate" data-navigate-to-index="2">Next</button> #}
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="page-company-edit__schools">
                <div class="uk-width-xlarge">
                    <fieldset class="uk-fieldset">
                        <div class="uk-margin">
                            {{ form_label(form.schools, 'Schools*') }}
                            <div class="react-schools-select-by-radius"
                                 data-field-name="edit_company_form[schools][]"
                                 data-field-value="{{ form.schools.vars.value|json_encode }}"
                                 data-georadius-name="edit_company_form[geoRadius]"
                                 data-georadius-value="{{ form.geoRadius.vars.value }}"
                                 data-geozipcode-name="edit_company_form[geoZipCode]"
                                 data-geozipcode-value="{% if form.geoZipCode.vars.value %}{{ form.geoZipCode.vars.value }}{% elseif company.zipcode is defined %}{{ company.zipcode }}{% endif %}">
                                {{ form_widget(form.schools, {'attr': {'class': 'uk-checkboxes uk-checkboxes-newlines' ~ ( form_errors(form.schools) ? ' uk-form-danger' : '' ) }}) }}
                                {{ form_widget(form.geoZipCode) }}
                                {{ form_widget(form.geoRadius) }}
                            </div>
                            <div class="clear"></div>
                            {{ form_errors(form.schools) }}
                        </div>

                        <div class="uk-margin">
                            <button class="uk-button uk-button-primary uk-button-small">Save</button> or <a href="#" uk-switcher-item="3" class="uk-button uk-button-secondary uk-button-small">Next</a>
                            {# <button type="button" class="uk-button uk-button-primary uk-button-small js-navigate" data-navigate-to-index="3">Next</button> #}
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="page-company-edit__photos">

                <div class="uk-width-1-1">
                    <h4>Add Additional Photos</h4>
                    <div data-upload-url="{{ path('company_photos_add', { id: company.id }) }}" data-type="multiple:image:companyPhotos">
                        <div class="page-company-edit__uploaded-photos">
                            <button type="button" data-remove="{{ url('company_photo_remove', {id: 'UPLOAD_ID'}) }}" uk-close></button>
                            <img src="UPLOAD_URL" />
                        </div>
                    </div>
                </div>

                {% if company.companyPhotos|length %}
                    <h4>Current Photos</h4>
                {% endif %}
                <div id="companyPhotos" class="uk-grid uk-child-width-1-6@l uk-child-width-1-4@m uk-child-width-1-3" uk-grid>
                    {% if company.companyPhotos|length %}
                        {% for companyPhoto in company.companyPhotos %}
                            <div class="page-company-edit__uploaded-photos">
                                <button type="button" data-remove="{{ url('company_photo_remove', {'id': companyPhoto.id}) }}" uk-close></button>
                                <img src="{{ asset(uploaded_asset(companyPhoto.path))|imagine_filter('squared_thumbnail_small') }}" />
                            </div>
                        {% endfor %}
                    {% endif %}
                </div>

                <div class="uk-margin">
                    <button class="uk-button uk-button-primary uk-button-small">Save</button> or <a href="#" uk-switcher-item="4" class="uk-button uk-button-secondary uk-button-small">Next</a>
                    {# <button type="button" class="uk-button uk-button-primary uk-button-small js-navigate" data-navigate-to-index="4">Next</button> #}
                </div>

            </div>
            <div class="page-company-edit__videos">
                <div class="uk-width-xlarge">
                    <p>Videos can help showcase what a great place your establishment is to work for.  Upload your videos to Youtube and then attach them here.</p>
                </div>
                <div class="uk-margin">
                    <div class="uk-text-center uk-placeholder">
                        <a class="uk-button uk-button-default uk-button-small" href="#modal-add-company-video" uk-toggle>Add a Video</a>
                        <div id="modal-add-company-video" uk-modal>
                            <div class="uk-modal-dialog uk-modal-body">
                                <h3>Add a Video</h3>

                                <div class="uk-margin">
                                    <label for="edit_company_add_video_name" class="required">Name*</label>
                                    <input type="text" id="edit_company_add_video_name" name="name" required="required" class="uk-input" />
                                </div>

                                <div class="uk-margin">
                                    <label for="edit_company_add_video_id" class="required">Youtube Video ID*</label>
                                    <div class="uk-position-relative">
                                        <span class="uk-form-icon" uk-icon="icon: video-camera"></span>
                                        <input class="uk-input" id="edit_company_add_video_id" name="videoId" required="required" type="text">
                                    </div>
                                    <small>Please make sure your video is open to public.</small>

                                </div>

                                <div class="uk-margin">
                                    <label for="edit_company_add_video_tags" class="required">Keywords</label>
                                    <div class="uk-position-relative">
                                        <textarea id="edit_company_add_video_tags" name="tags" class="uk-textarea"></textarea>
                                    </div>
                                </div>

                                <p class="uk-text-right">
                                    <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                                    <input class="uk-button uk-button-primary" type="submit" value="Save" data-action="{{ path('company_video_add', {'id' : company.id}) }}" />
                                </p>
                            </div>
                        </div>
                    </div>
                    <div id="companyVideosTemplate" style="display: none;">
                        <div class="company-video">
                            <a class="uk-inline" href="https://www.youtube.com/watch?v=VIDEO_ID">
                                <img src="http://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg" alt="">
                                <div class="company-video__overlay">
                                    <div class="company-video__overlay-title">
                                        VIDEO_NAME
                                    </div>
                                </div>
                            </a>
                            <a onclick="event.stopPropagation();" style="position: absolute; top: -2px; left: 20px; z-index: 5000; border: none; color: #999;" class="uk-button uk-button-default" href="{{ path('company_edit', {'id' : company.id }) }}?videoEdit=RESOURCE_ID" uk-icon="icon: file-edit"></a>
                            <button type="button" data-remove="{{ path('company_video_remove', {'id' : 'RESOURCE_ID' }) }}" uk-close></button>
                        </div>
                    </div>

                </div>
                <div class="uk-margin">
                    {% if company.companyVideos|length %}
                        <h4>Current Videos</h4>
                    {% endif %}
                    <div id="companyVideos" class="uk-child-width-1-3@m" uk-grid="masonry: true" uk-lightbox="animation: slide; video-autoplay: 1">
                        {% if company.companyVideos|length %}
                            {% for video in company.companyVideos %}
                                <div class="company-video">
                                    <a class="uk-inline" href="https://www.youtube.com/watch?v={{ video.videoId|trim }}">
                                        <img src="http://i.ytimg.com/vi/{{ video.videoId|trim }}/hqdefault.jpg" alt="">
                                        <div class="company-video__overlay">
                                            <div class="company-video__overlay-title">
                                                {{ video.name }}
                                            </div>
                                        </div>
                                    </a>

                                    <a onclick="event.stopPropagation();" style="position: absolute; top: -2px; left: 20px; z-index: 5000; border: none; color: #999;" class="uk-button uk-button-default" href="{{ path('company_edit', {'id' : company.id }) }}?videoEdit={{ video.id }}" uk-icon="icon: file-edit"></a>

                                    <button type="button" data-remove="{{ path('company_video_remove', {'id' : video.id }) }}" uk-close></button>
                                </div>

                            {% endfor %}
                        {% endif %}
                    </div>
                </div>

                {% if companyVideo %}

                    <div id="modal-edit-company-video" uk-modal>
                        <div class="uk-modal-dialog uk-modal-body">
                            <h3>Edit Video</h3>

                            <input type="hidden" name="companyId" value="{{ company.id }}">

                            <div class="uk-margin">
                                <label for="edit_company_edit_video_name" class="required">Name*</label>
                                <input type="text" id="edit_company_edit_video_name" name="name" required="required" class="uk-input" value="{{ companyVideo.name }}"/>
                            </div>

                            <div class="uk-margin">
                                <label for="edit_company_edit_video_id" class="required">Youtube Video ID*</label>
                                <div class="uk-position-relative">
                                    <span class="uk-form-icon" uk-icon="icon: video-camera"></span>
                                    <input class="uk-input" id="edit_company_edit_video_id" name="videoId" required="required" type="text" value="{{ companyVideo.videoId }}">
                                </div>
                                <small>Please make sure your video is open to public.</small>

                            </div>

                            <div class="uk-margin">
                                <label for="edit_company_edit_video_tags" class="required">Keywords</label>
                                <div class="uk-position-relative">
                                    <textarea id="edit_company_edit_video_tags" name="tags" class="uk-textarea">{{ companyVideo.tags }}</textarea>
                                </div>
                            </div>

                            <p class="uk-text-right">
                                <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                                <input class="uk-button uk-button-primary" type="submit" value="Save" data-action="{{ path('company_video_edit', {id: companyVideo.id}) }}" />
                            </p>
                        </div>
                    </div>
                {% endif %}

                <div class="uk-margin">
                    <button class="uk-button uk-button-primary uk-button-small">Save</button>
                </div>
            </div>


            <!-- ####################################################################################### -->
            <!-- ############################### RESOURCES / FILES ##################################### -->
            <!-- ####################################################################################### -->
            <div class="page-company-edit__resources">
                <div class="uk-width-xlarge">
                    <p>Resources are meant to provide helpful resources to understand more about your company.  Things like Employee Handbooks, Campus Maps, and Company Culture are highly encouraged!</p>
                </div>
                <div class="uk-margin">
                    <div class="uk-text-center uk-placeholder">
                        <a class="uk-button uk-button-default uk-button-small" href="#modal-add-company-resource" uk-toggle>Add a Resource</a>
                    </div>
                </div>
                <div class="uk-margin">
                    {% if company.companyResources|length %}
                        <h4>Current Resources</h4>
                    {% endif %}
                    <div id="companyResources">
                        {% if company.companyResources|length %}
                            {% for companyResource in company.companyResources %}
                                <div class="uk-grid uk-flex-middle" uk-grid id="resource_{{ companyResource.id }}">
                                    <div class="uk-width-expand">
                                        <dt>{{ companyResource.title }}</dt>
                                        <dd>{{ companyResource.description }}</dd>
                                    </div>
                                    <div class="uk-width-auto">
                                        {% if companyResource.fileName %}
                                            <a href="{{ asset(uploaded_asset(companyResource.path)) }}" class="uk-button uk-button-default uk-button-small view" target="_blank">View</a>
                                        {% else %}
                                            <a href="{{ companyResource.linkToWebsite }}" class="uk-button uk-button-default uk-button-small view" target="_blank view">View</a>
                                        {% endif %}
                                    </div>
                                    <div class="uk-width-auto">
                                        <a href="#" class="uk-button uk-button-default uk-button-small company-edit-resource" data-id="{{ companyResource.id }}">Edit</a>
                                    </div>
                                    <button type="button" data-remove="{{ path('company_resource_remove', {'id' : companyResource.id }) }}" uk-close></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>


                <!-- Begin Modals -->
                <div id="modal-add-company-resource" uk-modal>
                    <div class="uk-modal-dialog uk-modal-body">
                        <h3>Add a Resource</h3>

                        <div class="uk-margin">
                            <label for="edit_company_add_resource_title" class="required">Name*</label>
                            <input type="text" id="edit_company_add_resource_title" name="title" required="required" class="uk-input" />
                        </div>

                        <div class="uk-margin">
                            <label for="edit_company_add_resource_description" class="required">Description</label>
                            <input type="text" id="edit_company_add_resource_title" name="description" class="uk-textarea" />
                        </div>

                        <div class="uk-margin">
                            <label for="edit_company_add_resource_description" class="required">Add Link To Website</label>
                            <input type="text" id="edit_company_add_resource_link_to_website" name="linkToWebsite" class="uk-input" placeholder="http://www.google.com" />
                        </div>

                        <div>OR</div>

                        <div class="uk-margin">
                            <label>Upload Resource File</label><br />
                            <div uk-form-custom="target: true">
                                <input class="uk-button uk-button-primary uk-button-small" type="file" name="resource">
                                <input class="uk-input uk-form-width-medium" type="text" placeholder="Select file" disabled>
                            </div>
                        </div>

                        <p class="uk-text-right">
                            <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                            <input class="uk-button uk-button-primary" type="submit" value="Save" data-action="{{ path('company_resource_add', {'id' : company.id}) }}" />
                        </p>
                    </div>
                </div>

                <div id="companyResourcesTemplate" style="display: none;">
                    <div class="uk-grid uk-flex-middle" uk-grid id="resource_RESOURCE_ID">
                        <div class="uk-width-expand">
                            <dt>RESOURCE_TITLE</dt>
                            <dd>RESOURCE_DESCRIPTION</dd>
                        </div>
                        <div class="uk-width-auto">
                            <a href="RESOURCE_URL" class="uk-button uk-button-default uk-button-small view" target="_blank">View</a>
                        </div>
                        <div class="uk-width-auto">
                            <a href="#" class="uk-button uk-button-default uk-button-small company-edit-resource" data-id="{{ 'RESOURCE_ID' }}">Edit</a>
                        </div>
                        <button type="button" data-remove="{{ path('company_resource_remove', {'id' : 'RESOURCE_ID' }) }}" uk-close></button>
                    </div>
                </div>


                <div id="modal-edit-company-resource" uk-modal>
                    <div class="uk-modal-dialog uk-modal-body">
                        <h3>Edit Resource</h3>

                        <div class="uk-margin">
                            <label for="edit_company_edit_resource_title" class="required">Name*</label>
                            <input type="text" id="edit_company_edit_resource_title" name="title" required="required" class="uk-input" />
                        </div>

                        <div class="uk-margin">
                            <label for="edit_company_edit_resource_description" class="required">Description</label>
                            <input type="text" id="edit_company_edit_resource_description" name="description" class="uk-textarea" />
                        </div>

                        <div class="uk-margin">
                            <label for="edit_company_edit_resource_link_to_website" class="required">Add Link To Website</label>
                            <input type="text" id="edit_company_edit_resource_link_to_website" name="linkToWebsite" class="uk-input" placeholder="http://www.google.com" />
                        </div>

                        <div>OR</div>

                        <div class="uk-margin">
                            <label>Upload Resource File</label><br />
                            <div uk-form-custom="target: true">
                                <input class="uk-button uk-button-primary uk-button-small" type="file" name="resource">
                                <input class="uk-input uk-form-width-medium" type="text" placeholder="Select file" disabled>
                            </div>
                        </div>

                        <input type="hidden" name="resource_id" id="edit_company_edit_resource_id" />

                        <p class="uk-text-right">
                            <button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button>
                            <input class="uk-button uk-button-primary" type="submit" value="Save" id="edit-submit-button" data-action="" />
                        </p>
                    </div>
                </div>
            </div>
        </div>


        {{ form_end(form) }}

    </div>


    <script>
      document.getElementById('edit_company_add_resource_link_to_website').addEventListener('blur', (event) => {
        const matched = event.target.value.match(/^(http|https):\/\//);
        if(!matched) {
          document.getElementById('edit_company_add_resource_link_to_website').value = 'http://' + event.target.value;
        }
      }, true);

      document.getElementById('edit_company_edit_resource_link_to_website').addEventListener('blur', (event) => {
        const matched = event.target.value.match(/^(http|https):\/\//);
        if(!matched) {
          document.getElementById('edit_company_edit_resource_link_to_website').value = 'http://' + event.target.value;
        }
      }, true);
    </script>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $( document ).ready(function() {

            $('.js-navigate').click(function(e) {
                debugger;
                let indexToNavigateTo = $(e.target).attr('data-navigate-to-index');

                UIkit.tab('#test').show(indexToNavigateTo);
            })
        });
    </script>

{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('build/companies.js') }}"></script>

    {% if companyVideo %}
        <script>
            window.onload = function() {
                UIkit.modal('#modal-edit-company-video').show()
            };
        </script>
    {% endif %}

{% endblock %}
