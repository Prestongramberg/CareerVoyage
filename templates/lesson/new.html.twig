{% extends 'baseAuthenticated.html.twig' %}

{% block title %}Add Lesson{% endblock %}
{% block bodyClass %}page-lesson-add{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('build/lessons.js') }}"></script>
{% endblock %}

{% block body %}


<div class="uk-container js-form" data-route="{{ path('lesson_new') }}">

    {{ form_start(form, {attr: {'novalidate' : 'novalidate'}}) }}

    <ul class="uk-tab" uk-switcher="connect: #tab-add-lesson" uk-tab>
        <li class="uk-active"><a href="#lesson-details">Lesson</a></li>
        <li class="uk-active"><a href="#lesson-industries">Industries</a></li>
        <li><a href="#lesson-courses">Courses</a></li>
        <li><a href="#lesson-outcomes">Outcomes</a></li>
    </ul>

    {% if form_errors(form) %}
        <div class="uk-alert-danger" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <div>{{ form_errors(form) }}</div>
        </div>
    {% endif %}

    <div class="uk-switcher" id="tab-add-lesson">
        <div class="page-lesson-add_details">
            <div class="uk-width-xlarge">
                <fieldset class="uk-fieldset">
                    <div class="uk-margin">
                        {{ form_label(form.title, 'Title*') }}
                        {{ form_widget(form.title, {'attr': {'class': 'uk-input' ~ ( form_errors(form.title) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.title) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.shortDescription, 'Short Description*') }}
                        <div class="uk-text-meta">One sentence summary that describes lesson, often framed as an ESSENTIAL question</div>
                        {{ form_widget(form.shortDescription, {'attr': {'class': 'uk-textarea' ~ ( form_errors(form.shortDescription) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.shortDescription) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.summary, 'Summary*') }}
                        <div class="uk-text-meta">Provide an overview of the lesson for students and professionals</div>
                        <div data-wysiwyg="[name='new_lesson[summary]']" class="{{ ( form_errors(form.summary) ? 'wysiwyg-error' : '' ) }}">
                        </div>
                        <div style="display: none;">
                            {{ form_widget(form.summary) }}
                        </div>
                        {{ form_errors(form.summary) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.grades, 'Grades*') }}
                        {{ form_widget(form.grades, {'attr': {'class': 'uk-checkboxes' ~ ( form_errors(form.grades) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.grades) }}
                    </div>
                </fieldset>
            </div>
            <div class="uk-margin">
                <a href="#" uk-switcher-item="1" class="uk-button uk-button-primary uk-button-small">Next</a>
            </div>
        </div>
        <div class="page-lesson-add__industries">
            <div class="uk-width-xlarge">
                <div class="uk-alert uk-alert-warning"><span class="fa fa-warning"></span> Be sure to choose at least one industry and secondary industry below.</div>
                <fieldset class="uk-fieldset">
                    <div id="subscribe-secondary-industries"
                         data-field-name="new_lesson[secondaryIndustries]"
                         data-remove-dom-id="new_lesson_secondaryIndustries"
                    ></div>
                </fieldset>
            </div>
            <div class="uk-margin">
                <a href="#" uk-switcher-item="2" class="uk-button uk-button-primary uk-button-small">Next</a>
            </div>
        </div>
        <div class="page-lesson-add__courses">
            <div class="uk-width-xlarge">
                <fieldset class="uk-fieldset">
                    <div class="uk-margin">
                        {{ form_label(form.primaryCourse, 'Primary Course*') }}
                        {{ form_widget(form.primaryCourse, {'attr': {'class': 'uk-select' ~ ( form_errors(form.primaryCourse) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.primaryCourse) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.secondaryCourses, 'Secondary Courses') }} &nbsp;&nbsp;<a class="uk-link-muted" data-select-all="new_lesson[secondaryCourses][]">Select All</a> - <a class="uk-link-muted" data-deselect-all="new_lesson[secondaryCourses][]">UnSelect All</a>
                        {{ form_widget(form.secondaryCourses, {'attr': {'class': 'uk-checkboxes uk-checkboxes-newlines' ~ ( form_errors(form.secondaryCourses) ? ' uk-form-danger' : '' ) }}) }}
                        <div class="clear"></div>
                        {{ form_errors(form.secondaryCourses) }}
                    </div><br />
                    <a href="{{ path('request_to_add_course') }}" target="_blank">Don't see a course you are looking for? Let us know</a>
                </fieldset>
            </div>
            <div class="uk-margin">
                <a href="#" uk-switcher-item="3" class="uk-button uk-button-primary uk-button-small">Next</a>
            </div>
        </div>
        <div class="page-lesson-add__outcomes">
            <fieldset class="uk-fieldset">
                <div class="uk-margin">
                    {{ form_label(form.learningOutcomes, 'Learning Outcomes') }}
                    <div class="uk-text-meta">Describe what students will learn from this lesson</div>
                    <div data-wysiwyg="[name='new_lesson[learningOutcomes]']" class="{{ ( form_errors(form.learningOutcomes) ? 'wysiwyg-error' : '' ) }}"
                         data-placeholder="Use the following to describe what students will learn in this lesson:
“By the end of this lesson, students will:
Be able…
Understand….
Be aware….
Know….”
After describing learning outcomes, feel free to share additional resources which will help the guest instructor teach this lesson. This can be links to websites, videos or Google drive docs.
">
                    </div>
                    <div style="display: none;">
                        {{ form_widget(form.learningOutcomes) }}
                    </div>
                    {{ form_errors(form.learningOutcomes) }}
                </div>
                <div class="uk-margin">
                    {{ form_label(form.educationalStandards, 'Educational Standards') }}
                    <div class="uk-text-meta">Describe educational standards that this lesson meets for criteria.</div>
                    <div data-wysiwyg="[name='new_lesson[educationalStandards]']" class="{{ ( form_errors(form.educationalStandards) ? 'wysiwyg-error' : '' ) }}"
                        data-placeholder="If you know which specific state, national or common core standards insert them here">
                    </div>
                    <div style="display: none;">
                        {{ form_widget(form.educationalStandards) }}
                    </div>
                    {{ form_errors(form.educationalStandards) }}
                </div>
            </fieldset>
            <div class="uk-margin">
                <button class="uk-button uk-button-primary uk-button-small">Create Lesson</button>
            </div>
        </div>
    </div>

    

    {{ form_end(form) }}

</div>

{% endblock %}
