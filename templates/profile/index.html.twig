{% extends 'baseAuthenticated.html.twig' %}

{% block title %}Profile{% endblock %}

{% block body %}

    <div class="uk-container">
        <div class="uk-grid" uk-grid uk-height-match="target: > div .uk-card">
            <div class="uk-width-2-3@m uk-width-1-1">
                <!-- PROFILE -->
                <div class="profile-card-wrapper">
                    <div class="uk-card uk-card-default">
                        <div class="uk-card-header">
                            <div class="uk-grid-small uk-flex-middle" uk-grid>
                                <div class="uk-width-auto">
                                    <img class="uk-border-circle" width="40" height="40" src="{{ ( attribute(user, 'photo') is defined and user.photo ) ? asset(uploaded_asset(user.photoPath))|imagine_filter('squared_thumbnail_small') : asset('build/images/avatar.png') }}">
                                </div>
                                <div class="uk-width-auto">
                                    <h3 class="uk-card-title uk-margin-remove-bottom">{{ user.getFullName }}</h3>
                                    <p class="uk-text-meta uk-margin-remove-top">
                                        {{ user.isEducator ? "Educator" : '' }}
                                        {{ user.isStudent ? "Student" : '' }}

                                        {% if user.isProfessional %}
                                            Professional
                                            {% if user.primaryIndustry %}
                                                - {{ user.primaryIndustry.name }}
                                            {% endif %}
                                            {% if user.secondaryIndustries|length > 0 %}
                                                - {{ user.secondaryIndustries[0].name }}
                                            {% endif %}
                                        {% endif %}

                                    </p>
                                </div>
                                <div class="uk-width-expand">
                                    <div class="uk-align-right">
                                        <a href="{{ path('profile_edit', {'id': user.id}) }}">
                                            <span class="uk-margin-small-right" uk-icon="icon: file-edit; ratio: 1"></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="uk-card-body">
                            {% if user.isProfessional %}
                                {% if user.briefBio %}
                                    <div class="uk-margin">
                                        {{ user.briefBio|raw }}
                                    </div>
                                {% else %}
                                    <p>Welcome to Future Forward! <a href="{{ path('profile_edit', {'id': user.id}) }}">Add a brief bio</a> to be featured in our search results!</p>
                                {% endif %}
                                <div class="professional-links">
                                    <a href="mailto:{{ user.email }}" class="uk-icon-button uk-margin-small-right" uk-icon="mail"></a>
                                    {% if user.getPhone %}
                                        <a href="tel:{{ user.getPhone }}" class="uk-icon-button uk-margin-small-right" uk-icon="receiver"></a>
                                    {% endif %}
                                    {% if user.getLinkedinProfile %}
                                        <a href="{{ user.getLinkedinProfile }}" class="uk-icon-button uk-margin-small-right" uk-icon="linkedin" target="_blank"></a>
                                    {% endif %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="uk-width-1-3@m uk-width-1-1">
                <!-- Quick Links -->
                <div class="quick-links-wrapper">
                    <div class="uk-card uk-card-default">
                        <div class="uk-card-header">
                            <div class="uk-grid-small uk-flex-middle" uk-grid>
                                <div class="uk-width-auto ">
                                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                                </div>
                                <div class="uk-width-expand">
                                    <h3 class="uk-card-title uk-margin-remove-bottom">How can I help?</h3>
                                </div>
                            </div>
                        </div>
                        <div class="uk-card-body">
                            <ul class="uk-list uk-list-divider">
                                <li><a href="lessons.php">Instruct a Lesson</a></li>
                                <li><a>Host a Site Visit</a></li>
                                <li><a>Share Field Experience</a></li>
                                <li><a>Informational Interview</a></li>
                                <li><a>Host a Job Shadow</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <br /><br />

    <div class="uk-container">
        <div class="uk-grid" uk-grid>
            <div class="uk-width-2-3@m uk-width-1-1">
                <!-- Schools -->
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-auto ">
                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                            </div>
                            <div class="uk-width-auto">
                                <h3 class="uk-card-title uk-margin-remove-bottom">Schools I Volunteer At</h3>
                            </div>
                            <div class="uk-width-expand">
                                <div class="uk-align-right">
                                    <a href="{{ path('profile_edit', {'id': user.id}) }}">
                                        <span class="uk-margin-small-right" uk-icon="icon: file-edit; ratio: 1"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body">
                        {% if user.schools %}
                            <ul class="uk-list uk-list-divider">
                                {% for school in user.schools %}
                                    <li>{{ school.name }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p>You haven't added any schools yet.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="uk-width-2-3@m uk-width-1-1">
                <!-- Lessons -->
                <div class="uk-card uk-card-default">
                    <div class="uk-card-header">
                        <div class="uk-grid-small uk-flex-middle" uk-grid>
                            <div class="uk-width-auto">
                                <i class="fa fa-book" aria-hidden="true"></i>
                            </div>
                            <div class="uk-width-auto">
                                <h3 class="uk-card-title uk-margin-remove-bottom">Lessons I Can Teach</h3>
                            </div>
                            <div class="uk-width-expand">
                                <div class="uk-align-right">
                                    <a href="#">
                                        <span class="uk-margin-small-right" uk-icon="icon: file-edit; ratio: 1"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="uk-card-body">
                        {% if user.schools %}
                            <ul class="uk-list uk-list-divider">
                                {% for school in user.schools %}
                                    <li>{{ school.name }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p>You haven't added any lessons yet.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
