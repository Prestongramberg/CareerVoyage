<div class="uk-container js-form" data-route="{{ path('profile_edit', {'id' : user.id}) }}">

    {% if successMessage %}
        <div class="uk-alert-success uk-margin" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <p>Profile successfully updated.  <a href="{{ path('profile_index', {'id': user.id}) }}">View your Profile</a></p>
        </div>
    {% endif %}

    {% if errorMessage %}
        <div class="uk-alert-error uk-margin" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <p>{{ errorMessage }}</p>
        </div>
    {% endif %}

    <ul class="uk-tab" uk-switcher="connect: #tab-account" uk-tab>
        <li class="uk-active"><a href="#account-details">Edit Profile</a></li>
    </ul>
    <div class="uk-switcher" id="tab-account">
        <div class="account_details">
            <div class="uk-width-xlarge">

                <h3>Edit Profile</h3>

                {{ form_start(form, {attr: {'novalidate' : 'novalidate'}}) }}

                {% if form_errors(form) %}
                    <div class="uk-alert-danger" uk-alert>
                        <a class="uk-alert-close" uk-close></a>
                        <div>{{ form_errors(form) }}</div>
                    </div>
                {% endif %}

                <fieldset class="uk-fieldset">
                    <div class="uk-margin">
                        {{ form_label(form.firstName, 'First Name*') }}
                        {{ form_widget(form.firstName, {'attr': {'class': 'uk-input' ~ ( form_errors(form.firstName) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.firstName) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.lastName, 'Last Name*') }}
                        {{ form_widget(form.lastName, {'attr': {'class': 'uk-input' ~ ( form_errors(form.lastName) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.lastName) }}
                    </div>
                    <div class="uk-margin uk-grid" uk-grid>
                        {% if user.photo %}
                            <div class="uk-width-small">
                                <img src="{{ asset(uploaded_asset(user.photoPath))|imagine_filter('squared_thumbnail_small') }}" />
                            </div>
                        {% endif %}
                        <div class="uk-width-expand">
                           
                        </div>
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.email, 'Email') }}
                        {{ form_widget(form.email, {'attr': {'class': 'uk-input' ~ ( form_errors(form.email) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.email) }}
                    </div>
                    <div class="uk-margin">
                        {{ form_label(form.plainPassword, 'Change Password') }}
                        {{ form_widget(form.plainPassword, {'attr': {'class': 'uk-input' ~ ( form_errors(form.plainPassword) ? ' uk-form-danger' : '' ) }}) }}
                        {{ form_errors(form.plainPassword) }}
                    </div>

                    <div class="uk-margin">
                        <button class="uk-button uk-button-primary uk-button-small">Save</button>
                    </div>
                </fieldset>
                <input type="hidden" name="formType" value="professionalRegistrationForm">

                {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>
