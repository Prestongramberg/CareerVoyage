<li>
    {% if request.isFromProfessional == true %}
    {% if request.wasCreatedByUser(user) %}
        {% else %}
    {% endif %}

    {% elseif request.isFromProfessional == false %}

    {% if request.wasCreatedByUser(user) %}
        <a class="uk-accordion-title" href="#">Request to teach a lesson</a>
        <div class="uk-accordion-content">
            <table class="uk-table uk-table-small uk-table-divider">
                <tbody>
                <tr>
                    <td>Request type</td>
                    <td>Teach lesson</td>
                </tr>
                <tr>
                    <td>Lesson title</td>
                    <td>{{ request.lesson.title }}</td>
                </tr>
                <tr>
                    <td>School name</td>
                    <td>{{ request.createdBy.school.name }}</td>
                </tr>
                <tr>
                    <td>Dates Available</td>
                    <td>
                        <p>{{ request.dateOptionOne|date("m/d/Y h:i:s A") }}</p>
                        <p>{{ request.dateOptionTwo|date("m/d/Y h:i:s A") }}</p>
                        <p>{{ request.dateOptionThree|date("m/d/Y h:i:s A") }}</p>
                    </td>
                </tr>
                <tr>
                    <td>Status</td>
                    <td>
                        <span class="uk-label">
                            {{ render_request_status_text( request ) }}
                        </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        {% else %}
            <a class="uk-accordion-title" href="#">Request to teach a lesson</a>
            <div class="uk-accordion-content">
                <table class="uk-table uk-table-small uk-table-divider">
                    <tbody>
                    <tr>
                        <td>Request Type</td>
                        <td>TEACH LESSON</td>
                    </tr>
                    <tr>
                        <td>Initiated By</td>
                        <td>
                            {{ request.createdBy.firstName }} {{ request.createdBy.lastName }}
                            <button class="uk-inline uk-button uk-button-primary uk-button-small uk-margin-small-left" data-message-user-id="{{ request.createdBy.id }}">Chat</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Lesson</td>
                        <td>{{ request.lesson.title }}</td>
                    </tr>
                    <tr>
                        <td>School name</td>
                        <td>{{ request.createdBy.school.name }}</td>
                    </tr>
                    <tr>
                        <td>Dates Available</td>
                        <td>
                            <p>{{ request.dateOptionOne|date("m/d/Y h:i:s A") }}</p>
                            <p>{{ request.dateOptionTwo|date("m/d/Y h:i:s A") }}</p>
                            <p>{{ request.dateOptionThree|date("m/d/Y h:i:s A") }}</p>
                        </td>
                    </tr>
                    <tr>
                        <td>Status</td>
                        <td>
                            <span class="uk-label">
                                {{ render_request_status_text( request ) }}
                            </span>
                        </td>
                    </tr>
                    {% if render_request_status_text( request ) == "Pending" %}
                    <tr>
                        <td>Confirm a Date</td>
                        <td>
                            <form method="post" class="uk-inline" action="{{ path('approve_request', {'id': request.id}) }}">
                                <input class="uk-label uk-label-success" type="submit" value="{{ request.dateOptionOne|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="date" value="{{ request.dateOptionOne|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="request" value="{{ request.id }}">
                            </form>
                            <form method="post" class="uk-inline" action="{{ path('approve_request', {'id': request.id}) }}">
                                <input class="uk-label uk-label-success" type="submit" value="{{ request.dateOptionTwo|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="date" value="{{ request.dateOptionTwo|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="request" value="{{ request.id }}">
                            </form>
                            <form method="post" class="uk-inline" action="{{ path('approve_request', {'id': request.id}) }}">
                                <input class="uk-label uk-label-success" type="submit" value="{{ request.dateOptionThree|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="date" value="{{ request.dateOptionThree|date("m/d/Y h:i:s A") }}">
                                <input type="hidden" name="request" value="{{ request.id }}">
                            </form>

                            <form method="post" class="uk-inline" action="{{ path('deny_request', {'id': request.id}) }}">
                                <input class="uk-label uk-label-danger" type="submit" value="Deny">
                                <input type="hidden" name="request" value="{{ request.id }}">
                            </form>
                        </td>
                    </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
    {% endif %}


    {% endif %}

</li>
